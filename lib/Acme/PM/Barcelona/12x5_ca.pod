=encoding utf8

=head1 NOM

Acme::PM::Barcelona::12x5_ca - 12 xerrades, 5 minuts cadascuna

=head1 VERSIÓ

Versió 0.01

=head1 SINOPSI

Introducció ràpida a Perl a càrrec del grup dels Perl Mongers de Barcelona.

=head1 DESCRIPCIE<Oacute>

12x5 és un format de presentació que en Mark Jason Dominus
va mostrar al grup de Barcelona.pm el juliol de 2003. Ens va agradar
tant que volem fer el mateix per introduir tant Perl com la nostra
comunitat local de Perl a qualsevol que ens escolti.

=head1 PRESENTACIONS

=head2 Perl i els Perl Mongers

=head3 Què és Perl?

L<http://www.perl.org/>

Perl és un llenguatge de programació dinàmic
que va dissenyar un lingüista anomenat Larry Wall l'any 1987.

Des d'aleshores ençà s'han publicat diverses versions
amb canvis importants en el llenguatge, essent la versió 5
la més utilitzada fins ara. La versió 6 incorporara
tants canvis que es considera un llenguatge diferent, Perl 6.

=head3 Per què Perl?

Bàsicament perquè és el llenguatge de
programació que a mi més m'agrada. Hi ha gent
que en prefereix d'altres però, és clar,
hi ha d'haver gent per tot en aquest món.

I a mi, per què m'agrada tant?

=over 4

=item * és divertit d'utilitzar i aprendre'l

=item * hi ha molt de codi ja fet i disponible lliurement

=item * la comunitat de Perl és gran i està disposada a ajudar

=item * està disponible en molts més llocs del que us penseu

=item * hi puc fer coses que no podria amb d'altres llenguatges

=item * em permet fer les coses com m'agradin més

=item * m'ajuda a fer la feina

=back

=head3 Què són els Perl Mongers?

Perl Mongers és una mena associació internacional
de tots els grups d'usuaris de Perl.

Cada grup pot fer coses molt diferents del que fan els altres,
però en la majoria de casos es tracta de grups d'usuaris
d'un lloc determinat que es reuneixen periòdicament per
parlar de Perl i d'altres temes relacionats.

=head3 Barcelona.pm, els Perl Mongers de Barcelona

L<http://barcelona.perl.org/>

Creat a principis de l'any 2003 per en Timothy Chen Allen,
el grup de mongers de Barcelona es reuneix el darrer dijous
de cada mes.

De vegades, des del grup també s'organitzen festivals,
xerrades i cursos de Perl amb aprofitant el pas per Barcelona
d'alguns gurús de la comunitat internacional.

=head2 Quinieles

=head3 La sort és aleatòria

Un company dels mongers diu que ell creu que les quinieles són
tan aleatòries com la loteria, per tant fa una cosa com aquesta:

  @resultat = ( 1, 'X', 2 );

  foreach my $fila ( 1 .. 14 ) {
      print $fila, " ", $resultat[ int rand 3 ], "\n";
  }

=head3 Però potser no volem que ho sigui

En canvi, la seva dona vol poder decidir quin resultat tindrà
el seu equip favorit. Així doncs, cal una llista de resultats
desitjats:

  @resultat = ( 1, 'X', 2 );
  %quiniela = (
      # volem que l'equip de la fila 4 obtingui un 1
      4 => 1,
      # volem que l'equip de la fila 6 obtingui una X
      6 => 'X',
  );

  foreach my $fila ( 1 .. 14 ) {
      if ( !exists $quiniela{$fila} ) {
        $quiniela{$fila} = $resultat[ int rand 3 ];
      }

      print $fila, " ", $quiniela{$fila}, "\n";
  }

=head2 CPAN

=head3 Comprehensive Perl Archive Network

L<http://www.cpan.org/>

El CPAN és un repositori enorme de codi i documentació posats a
l'abast de tothom per la comunitat de programadors de Perl d'arreu
del món.

Algunes dades:

=over 4

=item * es va posar en marxa el 26 d'octubre de 1995

=item * hi ha 7664 autors

=item * aquests autors han fet 16575 mòduls de Perl

=item * existeixen 241 rèpliques del CPAN

=item * l'espai ocupat a cada rèplica és de 6064 MB

=back

=head3 Com funciona?

Publicar codi al CPAN és molt senzill, tothom pot demanar un
compte a L<http://pause.cpan.org/>, que és el servei que permet
fer la publicació; un cop aprovat, es poden registrar els mòduls
i publicar-los.

=head3 Els mòduls i els paquets

Un mòdul és un fitxer de text que conté la definició d'un o més
paquets de Perl. Per exemple el paquet C<Acme::PM::Barcelona::Meeting>
defineix el codi que calcula quan serà la propera reunió dels mongers
de Barcelona. Aquest paquet es troba al fitxer següent dins del
directori de mòduls de Perl:

  Acme/PM/Barcelona/Meeting.pm

Els paquets defineixen espais de noms reservats per a agrupar
trossos de codi relacionat amb un mateix tema. Així s'hi poden
utilitzar els noms de funcions que hom desitgi sense que això
afecti a d'altres parts del codi.

  package Acme::PM::Barcelona::Meeting;

  sub festival {
      # ...
  }

=head3 Les distribucions

Els paquets s'agrupen dins els mòduls i aquests s'agrupen en
distribucions. Una distribució no només conté el codi d'un o
més mòduls sinó que a més a més disposa dels mecanismes adients
per a fer-ne la configuració, la verificació i la instal·lació.

Les distribucions de Perl acostumen a tenir un format concret,
especialment si hom les vol publicar al CPAN.

=head3 Avantatges del CPAN

El CPAN posa a disposició dels autors que hi publiquen un gran
ventall de serveis i avantatges a canvi de què el que publiquin
sigui lliure:

=over 4

=item * un repositori replicat arreu del món

=item * la publicació de la documentació dels mòduls

=item * la possibilitat que els usuaris facin comentaris i anotacions

=item * un sistema automàtic de tests de versions i plataformes

=item * un servei de notificació i seguiment d'errors

=back

=head2 WWW::Mechanize

Amb Perl es poden escriure programes que naveguen per la web.

=head3 La pàgina d'inici de La Vanguardia

Aquest programa descarrega la pàgina web de La Vanguardia.

  use WWW::Mechanize;
  
  $mech = WWW::Mechanize->new;
  $mech->get("http://www.lavanguardia.es");
  
  print $mech->content;

=head3 Una cerca a Google

Aquest programa cerca la paraula "Perl" a Google.

  use WWW::Mechanize;
  
  my $mech = WWW::Mechanize->new;
  
  $mech->get('http://www.google.com');
  $mech->field('q', 'Perl');
  $mech->click('btnG');
  
  print $mech->content;

=head3 L'extracte d'un compte de La Caixa

Aquest programa treu per pantalla la primera pàgina de l'extracte
d'un compte de La Caixa.

  use WWW::Mechanize;
  
  $user = 'el-teu-dni';
  $password = 'contrasenya';
  
  # fest-te passar per un iPhone, es mes senzill
  $iphone = "Mozilla/5.0 (iPhone; U; CPU iPhone OS 3_0 like Mac OS X; en-us) AppleWebKit/528.18 (KHTML, like Gecko) Version/4.0 Mobile/7A341 Safari/528.16";
  $mech = WWW::Mechanize->new(agent => $iphone);
  
  # home page
  $mech->get("http://lacaixa.mobi/apl/index_es.html?select=true");
  $mech->follow_link(url_regex => qr/es-mobi-menu-lo/);
  
  # fes login
  $mech->submit_form(
  	form_name => "formu",
  	fields => {
  		E => $user,
  		B => $password
  	}
  );

=head3 ...

  # segueix el primer enllac,	
  $mech->follow_link(tag => 'a', n => 1);	
  
  # captura els moviments
  ($movements) = $mech->content =~ m{(<ul[^>]*>\s*<li[^>]*>\s*<a.*?</ul>)}i;
  
  $mov_regexp = qr{
      <td\s+align="left"> (.+?) </td>
      .*?
      <font[^>]+> ([\d,-]+) .*? </font>
      .*?
      <li[^>]+> (\d+/\d+/\d+)
  }sx;
  
  print "$1, $2, $3\n" while $movements =~ /$mov_regexp/g;
  
  # AHORRA EL CAMBIO, -2,10, 06/09/2009
  # FRANKFURT PLATJA-, -14,40, 05/09/2009
  # DECATHLON ILLA PR, -7,90, 05/09/2009
  # CAPRABO, -7,64, 04/09/2009
  # GESOIL S.A. LEVAN, -18,88, 04/09/2009
  # ...

=head2 Finance::Quote i Cache::FileCache

Es pot obtenir el canvi actualitzat de la moneda d'arreu del món.

=head3 Conversió de dòlars a euros

  use Finance::Quote 1.16;

  $quote = Finance::Quote->new();
  $ratio = $quote->currency('USD', 'EUR');

  print "10 USD = ", 10 * $ratio, " EUR\n";

=head3 Millorem la velocitat amb una còpia temporal

  use Cache::FileCache;
  use Finance::Quote 1.16;

  $cache = Cache::FileCache->new({
    default_expires_in => '1 day',
  });

  $ratio = $cache->get("USD:EUR");
  if ( !defined $ratio ) {
    $quote = Finance::Quote->new();
    $ratio = $quote->currency('USD', 'EUR')
    $cache->set("USD:EUR", $ratio);
  }

  print "10 USD = ", 10 * $ratio, " EUR\n";

=head2 Flickr::Upload

Una eina que utilitza C<Flickr::API> per a publicar fotos a Flickr.

=head3 flickr_upload

La manera més fàcil d'utilitzar l'eina és amb
l'ordre C<flickr_upload> des de l'intèrpret d'ordres. Primer
heu de configurar l'accés al vostre compte de Flickr seguint
les instruccions que us indicarà aquesta ordre:

  $ flickr_upload --auth

I un cop ho haureu fet, ja podreu publicar les fotos que vulgueu:

  $ flickr_upload --progress --tag 'barcelona perl mongers' *.jpg

=head3 Programar amb Flickr::Upload

Però també es pot utilitzar des d'un programa que
permeti triar amb més flexibilitat com voleu etiquetar
les vostres fotos.

  use Flickr::Upload;

  $ua = Flickr::Upload->new({
    'key'    => $key,
    'secret' => $secret,
  });

  $ua->upload(
    'auth_token' => $auth_token,
    'photo'      => 'barcelona-pm.jpg',
    'tags'       => 'barcelona perl mongers',
    'is_public'  => 1,
    'is_friend'  => 1,
    'is_family'  => 1,
  );

=head2 Codis QR

=head3 Què són?

Els codis QR s'utilitzen per a codificar informació que pugui
ser llegida i utilitzada de forma ràpida des d'un dispositiu
lector.

Es tracta d'un invent japonès per tal que es pugui llegir
informació ràpidament des dels mòbils i
es pugui utilitzar d'immediat sense haver d'escriure res, per exemple
posant-ho en un anunci d'un diari o en una pancarta al carrer, etc.

=head3 Tipus de dades

S'assemblen als codis de barres però permeten emmagatzemar
tot tipus de dades:

=over 4

=item * numèriques

=item * alfanumèriques

=item * binàries

=item * kanji o kana

=back

=head3 Correcció d'errors

Una altra característica interessant dels codis QR és
que permeten fer correcció d'errors si el dibuix no es veu
del tot bé. N'hi ha de 4 nivells:

=over 4

=item L recupera el 7%

=item M recupera el 15%

=item Q recupera el 25%

=item H recupera el 30%

=back

=head3 GD::Barcode::QRcode

Generar un codi QR és molt senzill:

  use GD::Barcode::QRcode;

  binmode(STDOUT);
  print GD::Barcode::QRcode->new('http://perl.cat/')->plot->png;

=head3 Image::DecodeQR

Llegir un codi QR és encara més senzill:

  use Image::DecodeQR;

  $url = Image::DecodeQR::decode('perl.cat_qr.png');

=head2 Títol8

=head2 Títol9

=head2 Títol10

=head2 Cultura Perl

=head3 Perl Golf

=over 4

=item * El Perl Golf és un divertiment.

=item * Consisteix en resoldre un cert problema en Perl usant el mínim
nombre de caràcters possible.

=item * El nom es una conya que ve de l'anglès. Es tracta d'usar el
mínim nombre de B<(key)strokes>. Seguint amb l'analogia, als
problemes en golf se'ls anomena B<holes>.

=item * Normalment es juga a golf en torneigs.

=back

=head3 Exemple 1

Redueix un nombre enter al seu nombre secret:

  #!/usr/bin/perl -l
  print while+s/./hex($`%10+$&)%15/eg^s//pop/e

=head3 Exemple 2

Troba tots els anagrames:

  #!/usr/bin/perl
  map!s/
  \b/ /|//||print,sort%%for map$%.=$_,sort<>

=head3 Exemple 3

Fes una ordenació topològica:

  #!/usr/bin/perl -ln0
  / \Q$&/||print$1while s/(
  |(?= ?\G))\Q$&/
  /g,/(\S+) /g/$#+

=head3 Poesia Perl

=over 4

=item * Com que Perl té paraules clau i funcions que són paraules angleses,
i a més la sintaxi és bastant permisiva, hi ha gent que hi escriu poesies.

=item * Les poesies han de ser sintàcticament correctes, però es permet que
generin warnings, i no es demana que facin res en particular.

=back

=head3 Exemple 1

  study, write, study,
  do review (each word) if time.
  close book. sleep? what's that?

=head3 Example 2

  no less can I say;
  require strict, close attention
  while you ... write haiku

=head3 Example 3

  APPEAL:
  listen (please, please);
      open yourself, wide;
      join (you, me),
      connect (us,together),
  tell me.
  do something if distressed;
      @dawn, dance;
      @evening, sing;
      read (books,$poems,stories) until peaceful;
      study if able;
      write me if-you-please;
  sort your feelings, reset goals, seek (friends, family, anyone);
          do*not*die (like this)
          if sin abounds;
  keys (hidden), open (locks, doors), tell secrets;
      do not I-beg-you, close them, yet.
                  accept (yourself, changes),
                  bind (grief, despair);
      require truth, goodness if-you-will, each moment;
  select (always), length(of-days)

=head3 JAPHs

=over 4

=item * Un JAPH es un programa Perl que treu per pantalla la frase
"Just another Perl hacker,".

=item * Normalment els JAPHs són molt originals, o molt
obfuscats.

=back

=head3 Exemple 1

  $_ = "wftedskaebjgdpjgidbsmnjgc";
  tr/a-z/oh, turtleneck Phrase Jar!/; print;

=head3 Exemple 2

  @P=split//,".URRUU\c8R";@d=split//,"\nrekcah xinU / lreP rehtona tsuJ";sub p{
  @p{"r$p","u$p"}=(P,P);pipe"r$p","u$p";++$p;($q*=2)+=$f=!fork;map{$P=$P[$f^ord
  ($p{$_})&6];$p{$_}=/ ^$P/ix?$P:close$_}keys%p}p;p;p;p;p;map{$p{$_}=~/^[P.]/&&
  close$_}%p;wait until$?;map{/^r/&&<$_>}%p;$_=$d[$q];sleep rand(2)if/\S/;print

=head3 Exemple 3

  $_=q;Barcelona Perl Mongers;,$/=y,gaudi,,,;map$,+=(split//)*(-1)**$|++
  ,(split)[.11_09,1.714];$.=''!~m~erce~;$"=y,catalunya,,,$;=y,rambles,,,
  $*=$/^$.;$:=$.+length,$@=$***$**$/**$*%$:,$%=$/*$"-$*;print+chr($_<0xA
  ?$.."$[$_":m:^$.:?$..$_:$_)for($**$**$/*$",$"*$@+$**$/,$**$,,$***$,,$/
  *$,,$;,$***$/,$,*$/,$.<<$,,$%-$*,$"+$/,$***$,,(($,*$*)**$*)-$/,$***$/,
  $@+$/,$:-($/**$*),$.,$:+$"+$*,$.<<$*,$,**$/-$:-$,,exp$:/$,,$",$.,$"*$*
  ,$***$,,log$.,$.,-$/+$"*$,,$/+$"*$;,$.,++$@,$***($/&=$/+Barcelona_pm))

=head2 Perl.cat

=head3 La comunitat de programadors de Perl d'àmbit català

L<http://perl.cat/>

Aquest any 2009 hem comprat el domini I<Perl.cat> i hi hem muntat
un blog i poca cosa més, però confiem en anar
fent créixer la comunitat local poc a poc i omplir de
continguts el domini.

Qui s'hi vol apuntar?

=head1 AUTOR

Alex Muntada, C<< <alexm at cpan.org> >>
Xavier Noria, C<< <fxn at cpan.org> >>

=head1 ERRADES

Si us plau, informeu de qualsevol errada o millora a
C<bug-acme-pm-barcelona at rt.cpan.org>, o a través
de la web L<http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Acme-PM-Barcelona>.
Jo rebré un avís i se us notificarà
automàticament dels canvis que jo hi faci.

=head1 RECONEIXEMENTS

=over 4

=item Mark Jason Dominus

=item Barcelona Perl Mongers

=back

=head1 COPYRIGHT I LLICÈNCIA

Copyright 2009 Alex Muntada, tots els drets reservats.

Aquest programa és programari lliure; el podeu redistribuir i/o
modificar sota els mateixos termes que el propi Perl.

=cut
