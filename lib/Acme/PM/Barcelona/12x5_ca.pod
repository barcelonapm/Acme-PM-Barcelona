=head1 NOM

Acme::PM::Barcelona::12x5_ca - 12 xerrades, 5 minuts cadascuna

=head1 VERSIE<Oacute>

Version 0.01

=head1 SINOPSI

IntroducciE<oacute> rE<agrave>pida a Perl a cE<agrave>rrec dels grup
dels Perl Mongers de Barcelona.

=head1 DESCRIPCIE<Oacute>

12x5 E<eacute>s un format de presentaciE<oacute> que en Mark Jason Dominus
va mostrar al grup de Barcelona.pm el juliol de 2003. Ens va agradar
tant que volem fer el mateix per introduir tant Perl com la nostra
comunitat local de Perl a qualsevol que ens escolti.

=head1 PRESENTACIONS

=head2 WWW::Mechanize

Amb Perl es poden escriure programes que naveguen per la web.

=head3 La pE<agrave>gina d'inici de La Vanguardia

Aquest programa descarrega la pE<agrave>gina web de La Vanguardia.

  use WWW::Mechanize;
  
  $mech = WWW::Mechanize->new;
  $mech->get("http://www.lavanguardia.es");
  
  print $mech->content;

=head3 Una cerca a Google

Aquest programa cerca la paraula "Perl" a Google.

  use WWW::Mechanize;
  
  my $mech = WWW::Mechanize->new;
  
  $mech->get('http://www.google.com');
  $mech->field('q', 'Perl');
  $mech->click('btnG');
  
  print $mech->content;

=head3 L'extracte d'un compte de La Caixa

Aquest programa treu per pantalla la primera pE<agrave>gina de l'extracte
d'un compte de La Caixa.

  use WWW::Mechanize;
  
  $user = 'el-teu-dni';
  $password = 'contrasenya';
  
  # fest-te passar per un iPhone, es mes senzill
  $iphone = "Mozilla/5.0 (iPhone; U; CPU iPhone OS 3_0 like Mac OS X; en-us) AppleWebKit/528.18 (KHTML, like Gecko) Version/4.0 Mobile/7A341 Safari/528.16";
  $mech = WWW::Mechanize->new(agent => $iphone);
  
  # home page
  $mech->get("http://lacaixa.mobi/apl/index_es.html?select=true");
  $mech->follow_link(url_regex => qr/es-mobi-menu-lo/);
  
  # fes login
  $mech->submit_form(
  	form_name => "formu",
  	fields => {
  		E => $user,
  		B => $password
  	}
  );
  
  # segueix el primer enllac,	
  $mech->follow_link(tag => 'a', n => 1);	
  
  # captura els moviments
  ($movements) = $mech->content =~ m{(<ul[^>]*>\s*<li[^>]*>\s*<a.*?</ul>)}i;
  
  $mov_regexp = qr{
      <td\s+align="left"> (.+?) </td>
      .*?
      <font[^>]+> ([\d,-]+) .*? </font>
      .*?
      <li[^>]+> (\d+/\d+/\d+)
  }sx;
  
  print "$1, $2, $3\n" while $movements =~ /$mov_regexp/g;
  
  # AHORRA EL CAMBIO, -2,10, 06/09/2009
  # FRANKFURT PLATJA-, -14,40, 05/09/2009
  # DECATHLON ILLA PR, -7,90, 05/09/2009
  # CAPRABO, -7,64, 04/09/2009
  # GESOIL S.A. LEVAN, -18,88, 04/09/2009
  # ...

=head2 TE<iacute>tol2

=head2 TE<iacute>tol3

=head2 TE<iacute>tol4

=head2 TE<iacute>tol5

=head2 TE<iacute>tol6

=head2 TE<iacute>tol7

=head2 TE<iacute>tol8

=head2 TE<iacute>tol9

=head2 TE<iacute>tol10

=head2 TE<iacute>tol11

=head2 TE<iacute>tol12

=head1 AUTOR

Alex Muntada, C<< <alexm at cpan.org> >>

=head1 ERRADES

Si us plau, informeu de qualsevol errada o millora a
C<bug-acme-pm-barcelona at rt.cpan.org>, o a travE<eacute>s
de la web L<http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Acme-PM-Barcelona>.
Jo rebrE<eacute> un avE<iacute>s i se us notificarE<agrave>
automE<agrave>ticament dels canvis que jo hi faci.

=head1 RECONEIXEMENTS

=over 4

=item Mark Jason Dominus

=item Barcelona Perl Mongers

=back

=head1 COPYRIGHT I LLICE<Egrave>NCIA

Copyright 2009 Alex Muntada, tots els drets reservats.

Aquest programa E<eacute>s programari lliure; el podeu redistribuir i/o
modificar sota els mateixos termes que el propi Perl.

=cut
